(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{38:function(e,t,n){"use strict";n.r(t);var r=n(16),a=n(0),o=n(17),c=n.n(o),s=n(3),u=n(1);var i=function(e){var t=e.setUser;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("nav",{children:Object(u.jsx)("button",{onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(e){e.ok&&t(null)}))},children:"Logout"})})})};var j=function(e){var t=e.onLogin,n=Object(a.useState)(""),r=Object(s.a)(n,2),o=r[0],c=r[1],i=Object(a.useState)(""),j=Object(s.a)(i,2),l=j[0],b=j[1],p=Object(a.useState)([]),O=Object(s.a)(p,2),d=O[0],f=O[1],h=Object(a.useState)(!1),m=Object(s.a)(h,2),g=m[0],x=m[1];return Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x(!0),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:l})}).then((function(e){x(!1),e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return f(e.errors)}))}))},children:[Object(u.jsx)("input",{type:"text",id:"username",autoComplete:"off",placeholder:"Username",value:o,onChange:function(e){return c(e.target.value)}}),Object(u.jsx)("input",{type:"password",id:"password",autoComplete:"current-password",placeholder:"Password",value:l,onChange:function(e){return b(e.target.value)}}),Object(u.jsx)("button",{type:"submit",children:g?"Loading...":"Login"}),d?Object(u.jsx)("ul",{children:d.map((function(e){return Object(u.jsx)("li",{children:e},e)}))}):null]})};var l=function(e){var t=e.onLogin,n=Object(a.useState)(""),r=Object(s.a)(n,2),o=r[0],c=r[1],i=Object(a.useState)(""),j=Object(s.a)(i,2),l=j[0],b=j[1],p=Object(a.useState)(""),O=Object(s.a)(p,2),d=O[0],f=O[1],h=Object(a.useState)(""),m=Object(s.a)(h,2),g=m[0],x=m[1],v=Object(a.useState)(""),S=Object(s.a)(v,2),y=S[0],C=S[1],w=Object(a.useState)([]),L=Object(s.a)(w,2),k=L[0],F=L[1],U=Object(a.useState)(!1),T=Object(s.a)(U,2),_=T[0],E=T[1];return Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault(),F([]),E(!0),fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o,password:g,password_confirmation:y,first_name:l,last_name:d})}).then((function(e){E(!1),e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return F(e.errors)}))}))},children:[Object(u.jsx)("input",{type:"text",id:"username",autoComplete:"off",placeholder:"Username",value:o,onChange:function(e){return c(e.target.value)}}),Object(u.jsx)("input",{type:"text",id:"first_name",autoComplete:"off",placeholder:"First Name",value:l,onChange:function(e){return b(e.target.value)}}),Object(u.jsx)("input",{type:"text",id:"last_name",autoComplete:"off",placeholder:"Last Name",value:d,onChange:function(e){return f(e.target.value)}}),Object(u.jsx)("input",{type:"password",id:"password",placeholder:"Password",value:g,onChange:function(e){return x(e.target.value)},autoComplete:"current-password"}),Object(u.jsx)("input",{type:"password",id:"password_confirmation",placeholder:"Confirm Password",value:y,onChange:function(e){return C(e.target.value)},autoComplete:"current-password"}),Object(u.jsx)("button",{type:"submit",children:_?"Loading...":"Sign Up"}),k?Object(u.jsx)("ul",{children:k.map((function(e){return Object(u.jsx)("li",{children:e},e)}))}):null]})};var b=function(e){var t=e.onLogin,n=Object(a.useState)(!0),r=Object(s.a)(n,2),o=r[0],c=r[1];return Object(u.jsx)(u.Fragment,{children:o?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(j,{onLogin:t}),Object(u.jsx)("button",{onClick:function(){return c(!1)},children:"Sign Up"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(l,{onLogin:t}),Object(u.jsx)("button",{onClick:function(){return c(!0)},children:"Log In"})]})})};var p,O=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){fetch("/me").then((function(e){e.ok&&e.json().then((function(e){return r(e)}))}))}),[]),n?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(i,{setUser:r}),Object(u.jsx)("main",{children:Object(u.jsx)("p",{children:"This is the Main Menu"})})]}):Object(u.jsx)(b,{onLogin:r})},d=n(22),f=n(18),h=Object(f.a)(p||(p=Object(r.a)(['\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n}\n\nhtml, body {\n  margin: 0;\n}\n\nbody {\n  font-family: BlinkMacSystemFont,-apple-system,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,Arial,sans-serif;\n}\n'])));c.a.render(Object(u.jsxs)(d.a,{children:[Object(u.jsx)(h,{}),Object(u.jsx)(O,{})]}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.3edad206.chunk.js.map